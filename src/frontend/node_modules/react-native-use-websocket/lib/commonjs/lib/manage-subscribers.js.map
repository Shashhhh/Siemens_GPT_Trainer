{"version":3,"sources":["manage-subscribers.ts"],"names":["subscribers","getSubscribers","url","Array","from","hasSubscribers","size","addSubscriber","subscriber","Set","add","removeSubscriber","delete"],"mappings":";;;;;;AAMA,MAAMA,WAAwB,GAAG,EAAjC;;AAEO,MAAMC,cAAc,GAAIC,GAAD,IAA+B;AACzD,SAAOC,KAAK,CAACC,IAAN,CAAWJ,WAAW,CAACE,GAAD,CAAtB,CAAP;AACH,CAFM;;;;AAIA,MAAMG,cAAc,GAAIH,GAAD,IAA0B;AACpD,SAAOF,WAAW,CAACE,GAAD,CAAX,CAAiBI,IAAjB,GAAwB,CAA/B;AACH,CAFM;;;;AAIA,MAAMC,aAAa,GAAG,CAACL,GAAD,EAAcM,UAAd,KAA+C;AACxER,EAAAA,WAAW,CAACE,GAAD,CAAX,GAAmBF,WAAW,CAACE,GAAD,CAAX,IAAoB,IAAIO,GAAJ,EAAvC;AACAT,EAAAA,WAAW,CAACE,GAAD,CAAX,CAAiBQ,GAAjB,CAAqBF,UAArB;AACH,CAHM;;;;AAKA,MAAMG,gBAAgB,GAAG,CAACT,GAAD,EAAcM,UAAd,KAA+C;AAC3ER,EAAAA,WAAW,CAACE,GAAD,CAAX,CAAiBU,MAAjB,CAAwBJ,UAAxB;AACH,CAFM","sourcesContent":["import type { Subscriber } from './types';\r\n\r\nexport type Subscribers = {\r\n    [url: string]: Set<Subscriber>,\r\n}\r\n  \r\nconst subscribers: Subscribers = {};\r\n\r\nexport const getSubscribers = (url: string): Subscriber[] => {\r\n    return Array.from(subscribers[url]);\r\n};\r\n\r\nexport const hasSubscribers = (url: string): boolean => {\r\n    return subscribers[url].size > 0;\r\n};\r\n\r\nexport const addSubscriber = (url: string, subscriber: Subscriber): void => {\r\n    subscribers[url] = subscribers[url] || new Set<Subscriber>();\r\n    subscribers[url].add(subscriber);\r\n};\r\n\r\nexport const removeSubscriber = (url: string, subscriber: Subscriber): void => {\r\n    subscribers[url].delete(subscriber);\r\n};\r\n"]}